import{_ as i,d as c,o as d,c as r,b as s,t as l,a,n as u,F as v,u as m,x as o}from"./index-ba2e285c.js";const p=c({name:"HomeView",setup(){return{devicesStore:m(),xbit:o}},async beforeRouteLeave(e){this.devicesStore.connected&&e.name==="scan"&&await this.devicesStore.disconnectDevice()},methods:{async disconnectDevice(){o.sendToast({message:"Disconnecting...",options:{autoClose:!1}}),this.devicesStore.connected,this.$watch("devicesStore.disconnected",async e=>{e&&(o.sendClearToast(),this.$router.push({name:"scan"}))});try{await this.devicesStore.disconnectDevice()}catch(e){console.error(e),o.sendToast({type:"error",message:"Unable to disconnect"})}}}}),f={class:"pl-4 p-2 mb-2 text-white btn-gradient-1"},h={class:"p-2"},b={class:"flex flex-col",style:{flex:"1 1 auto",height:"100%","overflow-y":"auto","overflow-x":"hidden"}},w=s("i",{class:"fa-solid fa-microchip py-2 my-2"},null,-1),g=s("i",{class:"fa-solid fa-file-code"},null,-1),y={class:"action-button btn-gradient-1",style:{"justify-self":"flex-end"}},S=["disabled"];function x(e,t,$,C,D,_){return d(),r(v,null,[s("h3",f,[s("span",h," Connected to "+l(e.xbit.formatAddress(e.devicesStore.connected)),1)]),s("div",b,[s("button",{onClick:t[0]||(t[0]=n=>e.$router.push({name:"update"})),class:"bg-canvas-slate-500 ml-4 p-2 mb-2 rounded text-white text-center hover:bg-canvas-slate-600 max-w-sm"},[w,a(" Firmware Update")]),s("button",{onClick:t[1]||(t[1]=n=>e.$router.push({name:"upload"})),class:"bg-canvas-slate-500 ml-4 p-2 mb-2 rounded text-white text-center hover:bg-canvas-slate-600 max-w-sm"},[g,a(" Upload File")])]),s("div",y,[s("button",{onClick:t[2]||(t[2]=n=>e.disconnectDevice(e.devicesStore.selected)),class:u(["bg-canvas-slate-800 p-4 w-full h-full",{"text-white cursor-pointer":e.devicesStore.selected,"text-gray-600 cursor-not-allowed":!e.devicesStore.selected}]),disabled:!e.devicesStore.selected}," Disconnect ",10,S)])],64)}const F=i(p,[["render",x]]);export{F as default};
