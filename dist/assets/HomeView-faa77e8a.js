import{_ as a,d as i,o as c,c as d,b as t,t as r,n as l,F as u,u as v,x as o}from"./index-006637fc.js";const m=i({name:"HomeView",setup(){return{devicesStore:v(),xbit:o}},async beforeRouteLeave(e){this.devicesStore.connected&&e.name==="scan"&&await this.devicesStore.disconnectDevice()},methods:{async disconnectDevice(){o.sendToast({message:"Disconnecting...",options:{autoClose:!1}}),this.devicesStore.connected,this.$watch("devicesStore.disconnected",async e=>{e&&(o.sendClearToast(),this.$router.push({name:"scan"}))});try{await this.devicesStore.disconnectDevice()}catch(e){console.log(e),o.sendToast({type:"error",message:"Unable to disconnect"})}}}}),p={class:"pl-4 p-2 mb-2 text-white btn-gradient-1"},f={class:"p-2"},h={class:"flex flex-col",style:{flex:"1 1 auto",height:"100%","overflow-y":"auto","overflow-x":"hidden"}},b={class:"action-button btn-gradient-1",style:{"justify-self":"flex-end"}},w=["disabled"];function g(e,s,S,x,y,$){return c(),d(u,null,[t("h3",p,[t("span",f," Connected to "+r(e.xbit.formatAddress(e.devicesStore.connected)),1)]),t("div",h,[t("button",{onClick:s[0]||(s[0]=n=>e.$router.push({name:"update"})),class:"bg-canvas-slate-500 ml-4 p-2 mb-2 rounded text-white text-center hover:bg-canvas-slate-600 max-w-sm"},"Firmware Update"),t("button",{onClick:s[1]||(s[1]=n=>e.$router.push({name:"upload"})),class:"bg-canvas-slate-500 ml-4 p-2 mb-2 rounded text-white text-center hover:bg-canvas-slate-600 max-w-sm"},"Upload File")]),t("div",b,[t("button",{onClick:s[2]||(s[2]=n=>e.disconnectDevice(e.devicesStore.selected)),class:l(["bg-canvas-slate-800 p-4 w-full h-full",{"text-white cursor-pointer":e.devicesStore.selected,"text-gray-600 cursor-not-allowed":!e.devicesStore.selected}]),disabled:!e.devicesStore.selected}," Disconnect ",10,w)])],64)}const D=a(m,[["render",g]]);export{D as default};
